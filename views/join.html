<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="author" content="Author">
    <title></title>
</head>
<script>
    var User = function(){
/* 1-1
        this.username;        
        this.userage;
        this.userid;
        this.userpwd;
        this.useraddress;
*/
        this.username="";        
        this.userage="";
        this.userid="";
        this.userpwd="";
        this.useraddress="";

        this.validation = function(){
            for(var key in this){
                var obj = document.getElementById(key);
                if(obj.getAttribute("data-val")){
                    var len = obj.getAttribute("data-val").split(",")[0];
                    var msg  = obj.getAttribute("data-val").split(",")[1];
                if(this[key].length<len){
                    alert(msg);
                    obj.value= "";
                    obj.focus();
                    return;
                   }
                }
            }
        }
    }
    function login(){
        var user = new User();
   
            for(var key in user){
                if(document.getElementById(key)){
                    user[key] = document.getElementById(key).value.trim();
                }
            }
            user.validation();
 /* 1-1
        user.username = document.getElementById("username").value;
        user.userage =  document.getElementById("userage").value;
        user.userid = document.getElementById("userid").value;
        user.userpwd = document.getElementById("userpwd").value;
        user.useraddress = document.getElementById("useraddress").value;
    */
      
 
        // alert(JSON.stringify(user));
        /*
            if(user.userid.length<3){
                alert("아이디는 3글자 이상 입력해야합니다");
                document.getElementById("userid").value="";
                document.getElementById("userid").focus();
                return;
            }
        */
//      var username = document.getElementById("username");
//      var userage = document.getElementById("userage");
//      var userid = document.getElementById("userid");
//      var userpwd = document.getElementById("userpwd");
//      var useraddress = document.getElementById("useraddress");
    }
</script>
<body>
    <form method="get" action="/join2">
        <table border="1">
            <tr>
                <td>이름:</td>
                <td><input type="text" name="username" id="username" data-val="2,이름은 3글자 이상 입력해야합니다"></td>
            </tr>
            <tr>
                <td>나이:</td>
                <td><input type="text" name="userage" id="userage"></td>
            </tr>
            <tr>
                <td>아이디:</td>
                <td><input type="text" name="userid" id="userid" data-val="3,아이디는 3글자 이상 입력해야합니다"></td>
            </tr>
            <tr>
                <td>비밀번호:</td>
                <td><input type="text" name="userpwd" id="userpwd"></td>
            </tr>
            <tr>
                <td>주소:</td>
                <td><input type="text" name="useraddress" id="useraddress"></td>
            </tr>
            <tr>
                <td colspan="2"><input type="button" onclick="login()" value="회원가입"></td>
            </tr>
        </table>
    </form>
</body>
</html>